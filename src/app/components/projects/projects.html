<section class="bg-slate-900 py-20 px-6">
  <div class="max-w-6xl mx-auto">
    <div class="flex justify-between items-center mb-10 px-4">
      <h2 class="text-4xl font-bold text-white tracking-tight">Nuestros Proyectos</h2>

      <div class="flex gap-2">
        <button (click)="prev()"
          class="p-2 rounded-lg bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white transition-all border border-slate-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
          </svg>
        </button>
        <button (click)="next()"
          class="p-2 rounded-lg bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white transition-all border border-slate-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
          </svg>
        </button>
      </div>
    </div>

    <div class="overflow-hidden">
      <div class="flex transition-transform duration-500 ease-in-out"
        [style.transform]="'translateX(-' + (currentIndex() * 33.333) + '%)'">

        @for (project of projects; track project.title) {
        <div class="w-1/3 flex-none px-4">
          <div
            class="bg-[#1a2233] border border-slate-800 p-8 rounded-[2rem] h-full flex flex-col shadow-xl min-h-[380px]">

            <span [class]="'text-[10px] font-black uppercase tracking-[0.15em] mb-4 block ' + project.textColor">
              {{ project.type }}
            </span>

            <h3 class="text-2xl font-bold text-white mb-4 leading-tight">
              {{ project.title }}
            </h3>

            <p class="text-slate-400 text-sm leading-relaxed mb-8 flex-grow">
              {{ project.desc }}
            </p>

            <div class="flex flex-wrap gap-2 mt-auto">
              @for (t of project.tech; track t) {
              <span
                class="text-[11px] font-medium text-slate-400 bg-slate-800/80 px-3 py-1.5 rounded-lg border border-slate-700/50">
                {{ t }}
              </span>
              }
            </div>
          </div>
        </div>
        }
      </div>
    </div>
    <div class="flex justify-center gap-3 mt-10">
      @for (project of projects; track $index) {
      @if ($index <= projects.length - 3) { <button (click)="currentIndex.set($index)"
        [class]="'h-1.5 transition-all duration-300 rounded-full ' + ($index === currentIndex() ? 'w-10 bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]' : 'w-4 bg-slate-700 hover:bg-slate-600')">
        </button>
        }
        }
    </div>
  </div>
</section>